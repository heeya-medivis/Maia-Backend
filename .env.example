# -----------------------------
# Server Configuration
# -----------------------------
NODE_ENV=development
PORT=3000

# URLs (update these together with ports)
API_URL=http://localhost:3000
WEB_URL=http://localhost:3001

# -----------------------------
# Database
# -----------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/maia

# -----------------------------
# WorkOS Authentication
# Get keys from https://dashboard.workos.com
# -----------------------------
WORKOS_API_KEY=sk_test_xxxxx
WORKOS_CLIENT_ID=client_xxxxx
WORKOS_REDIRECT_URI=http://localhost:3000/v1/oauth/callback
WORKOS_WEBHOOK_SECRET=xxxxx

# WorkOS OIDC connections for social login (optional)
# Create these in WorkOS Dashboard > Authentication > Connections
WORKOS_GOOGLE_CONNECTION_ID=conn_xxxxx
WORKOS_MICROSOFT_CONNECTION_ID=conn_xxxxx
WORKOS_APPLE_CONNECTION_ID=conn_xxxxx

# -----------------------------
# JWT Configuration (RS256)
# Generate keys: openssl genrsa -out private.pem 2048
#                openssl rsa -in private.pem -pubout -out public.pem
# Then base64 encode or use multi-line with \n
# -----------------------------
JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBg...\n-----END PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhk...\n-----END PUBLIC KEY-----"
JWT_KEY_ID=maia-key-1
JWT_ISSUER=maia.surgicalar.com
JWT_AUDIENCE=maia-api

# -----------------------------
# Token Configuration
# -----------------------------
ACCESS_TOKEN_TTL_SECONDS=600
REFRESH_TOKEN_TTL_SECONDS=2592000
AUTH_STATE_SECRET=your-32-character-minimum-secret-key-for-oauth-state
REFRESH_TOKEN_SECRET=your-32-character-minimum-secret-key-for-refresh

# Allowed OAuth client IDs (comma-separated)
ALLOWED_CLIENT_IDS=maia-web,maia_desktop

# Web redirect URIs (comma-separated, for OAuth callback)
# Include both web dashboard callback and Unity callback page
WEB_REDIRECT_URIS=http://localhost:3001/api/auth/callback,http://localhost:3001/auth/unity-callback

# -----------------------------
# AI Providers (optional)
# -----------------------------
OPENAI_API_KEY=sk-xxxxx
ANTHROPIC_API_KEY=sk-ant-xxxxx
GOOGLE_AI_API_KEY=xxxxx

# Google Cloud / Vertex AI (optional)
GCLOUD_PROJECT_ID=your-project-id
GCLOUD_SERVER_LOCATION=us-central1
GCLOUD_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GCLOUD_PRIVATE_KEY_ID=xxxxx
GCLOUD_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"

# -----------------------------
# Stripe (optional)
# -----------------------------
# STRIPE_SECRET_KEY=sk_test_xxxxx
# STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# -----------------------------
# App Configuration
# -----------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
